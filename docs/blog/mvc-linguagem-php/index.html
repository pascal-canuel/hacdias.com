<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MVC na linguagem PHP</title>
<meta name="description" content="O modelo MVC é algo muito utilizado atualmente. Nesta primeira parte iremos explicar a estrutura base de uma aplicação MVC e criar o ficheiro principal">
<link rel="canonical" href="https://henriquedias.com/blog/mvc-linguagem-php/">
<link rel="publisher" href="https://plus.google.com/+HenriqueDias"/>

    <meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="MVC na linguagem PHP" />
<meta property="og:description" content="O modelo MVC é algo muito utilizado atualmente. Nesta primeira parte iremos explicar a estrutura base de uma aplicação MVC e criar o ficheiro principal" />
<meta property="og:url" content="https://henriquedias.com/blog/mvc-linguagem-php/" />
<meta property="og:site_name" content="Henrique Dias" />
<meta property="article:publisher" content="https://www.facebook.com/hacdias" />
<meta property="article:author" content="https://www.facebook.com/hacdias" />
<meta property="article:tag" content="MVC, PHP" />
<meta property="article:section" content="Tutorials" />
<meta property="article:published_time" content="2014-12-18T22:55:34&#43;00:00" />
<meta property="article:modified_time" content="2014-12-18T22:55:34&#43;00:00" />
<meta property="og:updated_time" content="2014-12-18T22:55:34&#43;00:00" /> 
<meta property="og:image" content="https://henriquedias.com/images/home/1.jpg" />

    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:description" content="O modelo MVC é algo muito utilizado atualmente. Nesta primeira parte iremos explicar a estrutura base de uma aplicação MVC e criar o ficheiro principal"/>
<meta name="twitter:title" content="MVC na linguagem PHP"/>
<meta name="twitter:site" content="@hacdias"/>
<meta name="twitter:domain" content="Henrique Dias"/>
<meta name="twitter:image:src" content="https://henriquedias.com/images/home/1.jpg"/>
<meta name="twitter:creator" content="@hacdias"/>

    <meta name="msvalidate.01" content="B471CBBC9EF6900039C6BBF251EF277C" />
<meta name="google-site-verification" content="nVQ4_x6m6ZTRAzclMPNxpB0iMgK-xoIj_d-l85u32nY" />

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
<meta name="msapplication-TileColor" content="#181818">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#181818">
    
<link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,500,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel="stylesheet">

<link rel="stylesheet" href="https://henriquedias.com/css/normalize.css">
<link rel="stylesheet" href="https://henriquedias.com/css/main.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script src="/app.js" async></script>
    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:hacdias@gmail.com",
  "image": "https://henriquedias.com/henrique.jpg",
  "jobTitle": "Author",
  "name": "Henrique Dias",
  "telephone": "351 965 856 140",
  "url": "https://henriquedias.com/",
  "sameAs" : [ "http://www.facebook.com/hacdias",
      "http://twitter.com/hacdias",
      "http://instagram.com/hacdias",
      "http://www.linkedin.com/in/hacdias",
      "http://plus.google.com/+HenriqueDias"]
}
</script>

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": "Henrique Dias",
  "name": "MVC na linguagem PHP",
  "datePublished": "2014-12-18",
  "headline": "O modelo MVC é algo muito utilizado atualmente. Nesta primeira parte iremos explicar a estrutura base de uma aplicação MVC e criar o ficheiro principal",
  "image": "https://henriquedias.com/home/1"
}
</script>

</head>

<body>
    <nav>
        <a href="https://henriquedias.com/">
            Henrique Dias
            <span>Programmer</span>
        </a>

        <ul>
            
            
            <li><a href="/about/" >About</a></li>
            
            <li><a href="/blog/" >Blog</a></li>
            
            <li><a href="/projects/" >Projects</a></li>
            
            <li><a href="/donate/" >Donate</a></li>
            
            <li><a href="/pgp/" >PGP Key</a></li>
            
        </ul>
        
        <div>
            <a href="mailto:hacdias@gmail.com"><i class="fa fa-envelope" aria-hidden="true"></i></a>
            <a href="https://github.com/hacdias"><i class="fa fa-github" aria-hidden="true"></i></a>
            <a href="https://twitter.com/hacdias"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            <a href="https://linkedin.com/in/hacdias"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
            <a href="https://instagram.com/hacdias"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            <a href="https://facebook.com/hacdias"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a href="https://medium.com/@hacdias"><i class="fa fa-medium" aria-hidden="true"></i></a>
        </div>
    </nav>


<main role="main" class="single">
    <article>
     
<header>
    <time datetime="2014-12-18">December 18, 2014</time>
    <h1>MVC na linguagem PHP</h1>
    </header>

    

<p>No último artigo publicado, foi falado acerca do <a href="/explanations/mvc-uma-breve-explicacao/"><strong>Modelo MVC</strong></a> e sobre aquilo em que este consiste. O Modelo <em>Model-View-Controller</em> é amplamente utilizado nos dias de hoje.</p>

<p>A pedido de um leitor, decidimos escrever um artigo em que exemplificamos este maravilhoso (ou não) modelo MVC utilizando a linguagem de programação PHP.</p>

<p><img src="/images/mvcuecphppI.jpg" alt="Modelo MVC - Uma exemplificação com PHP #1" /></p>

<p>Gostaria de dizer que esta exemplificação terá como base uma &ldquo;framework base&rdquo; MVC construída por mim através de vários tutoriais e ideias que encontrei <em>online</em>.</p>

<p>Para a aplicação começar a ser construída, é necessário efetuar a estruturação da mesma. Esta estruturação passa pela disposição dos ficheiros pelas pastas. Irá ser utilizada a seguinte estrutura:</p>

<pre><code class="language-bash">| app_core (Application Core)
     | controllers
     | libs
     | models
     | views
     | config.php

| public_html (Public HTML)
     | css
     | imgs
     | js
     | .htaccess
     | index.php
</code></pre>

<p>Visualizando a estruturação anterior, é possível verificar que existem duas pastas principais: a pasta <code>app_core</code> e a pasta <code>public_html</code>. Cada uma das duas pastas tem a sua função específica. Vejamos então qual a finalidade de cada uma das pastas.</p>

<h2 id="application-core"><em>Application Core</em></h2>

<p>O núcleo (ou motor) da aplicação está contido na pasta <code>app_core</code> estando no mesmo nível que a pasta que irá estar pública através do <em>browser</em>, logo os visitantes não terão acesso a nenhum conteúdo desta pasta. Dentro desta pasta podemos verificar a existência de quatro outras e também de um ficheiro.</p>

<ul>
<li><p><code>controllers</code> → pasta para colocar os controladores da aplicação que são, de forma generalizada, aqueles ficheiros que comandam a aplicação: o seu cérebro;</p></li>

<li><p><code>libs</code> → nesta pasta estão contidas as classes base para todos os outros ficheiros da aplicação como os modelos, controladores, vistas, base de dados, etc.</p></li>

<li><p><code>models</code> → aqui são colocados os modelos da aplicação, ou seja, aqueles ficheiros que estão encarregados da manipulação de dados;</p></li>

<li><p><code>views</code> → esta pasta irá conter todos os ficheiros que têm como base HTML. Mais nenhuma pasta da aplicação deverá conter ficheiros com HTML;</p></li>

<li><p><code>config.php</code> → o ficheiro de configuração principal. Aqui são definidas as diversas constantes que irão ser necessárias na execução da aplicação.</p></li>
</ul>

<h2 id="public-html"><em>Public HTML</em></h2>

<p>A pasta <code>public_html</code> será aquela que para a qual o servidor web, como por exemplo o apache, estará a apontar. Esta irá conter todos os ficheiros que estarão disponíveis ao utilizador.</p>

<ul>
<li><code>css</code> → todos os ficheiros de estilo serão incluídos nesta pasta;</li>
<li><code>imgs</code> → qualquer imagem que seja utilizada na aplicação poderá ser colocada aqui;</li>
<li><code>js</code> → todos os scripts escritos na linguagem <em>javascript</em> deverão aqui ser colocados;</li>
<li><code>.htacces</code>s → o ficheiro que dispensa apresentações;</li>
<li><code>index.php</code> → o ficheiro onde tudo começa.</li>
</ul>

<h2 id="config-php">config.php</h2>

<p>Iremos começar pelo ficheiro mais simples: o ficheiro <code>config.php</code> que está contido base do núcleo da aplicação (<code>app_core/config.php</code>). Este ficheiro, como já referido, irá conter as constantes principais. Ora veja:</p>

<pre><code class="language-php">&lt;?php

/*
* Ficheiro de Configuração
*
* Este ficheiro contém a configuração base deste website/aplicação:
*  1. Constantes Base
*  2. Constantes de Diretórios
*  3. Configuração da Base de Dados
*  4. Definições de erros
*
* Coloque sempre uma barra (/) depois de todos os caminhos.
*/

//1. Constantes Base
define('ROOT', dirname(__FILE__) . '/');
define('URL', 'http://localhost/mvc/');

//2. Constantes de Diretórios
define('DIR_LIBS', ROOT  . 'libs/');
define('DIR_MODELS', ROOT  . 'models/');
define('DIR_VIEWS', ROOT  . 'views/');
define('DIR_CONTROLLERS', ROOT . 'controllers/');
define('DIR_PUBLIC', '../public_html/');

//3. Configuração da Base de Dados
define('DB_TYPE', 'mysql');
define('DB_HOST', 'localhost');
define('DB_NAME', 'dbname');
define('DB_USER', 'dbuser');
define('DB_PASS', 'dbpass');

/*
* 4. Definições de Erros
*
* Defina error_reporting:
*  para -1 de forma a mostrar todos os erros que ocorrem;
*  para  0 de forma a ocultar todos os erros gerados.
*/
error_reporting(-1);
ini_set( 'display_errors','-1');
</code></pre>

<p>Crie um ficheiro com o código acima e guarde-o na pasta mencionada. Não se esqueça de alterar a constante URL, de forma a corresponder com o URL que vai utilizar para criar esta pequena aplicação. Altere também os dados da Configuração da Base de Dados.</p>

<h3 id="dica">Dica:</h3>

<p>Como pode ter reparado acima, eu estou a utilizar o link <code>localhost/mvc</code>  que redirecionará para a pasta pública da aplicação, sendo que a base dos documentos do meu servidor é <code>C:\Web\Server\Apache24\htdocs</code>  e a aplicação está localizada em <code>D:\Development\mvc</code>.</p>

<p>Como fiz isto? Criei um <a href="http://en.wikipedia.org/wiki/Symbolic_link"><em>link simbólico</em></a> de forma a que C:WebServerApache24htdocsmvc  corresponda a D:Developmentmvcpublic_html . Para criar um link simbólico no Windows basta correr o seguinte comando na linha de comandos em modo de administrador:</p>

<pre><code class="language-bash">MKLINK /D &lt;novo-link&gt; &lt;local-dos-ficheiros&gt;
</code></pre>

<p>Onde <code>&lt;novo-link</code>&gt; corresponde ao local a que irá corresponder o <code>&lt;local-dos-ficheiros&gt;</code>. No meu caso, tive que executar o seguinte comando:</p>

<pre><code class="language-bash">MKLINK /D C:\WebServer\Apache24\htdocs\mvc D:\Development\mvc\public_html
</code></pre>

<p>Isto pode ser, obviamente, feito também em <em>linux</em> e <em>OS X</em> porém não sei como, mas caso tenha uma distribuição Linux ou OS X, recomendo a leitura desta <a href="http://apple.stackexchange.com/questions/115646/how-can-i-create-a-symbolic-link-in-terminal">página</a>.</p>

<h2 id="saindo-da-dica">Saindo da dica&hellip;</h2>

<p>Como pode ver pela estrutura da aplicação, ainda há muito a fazer. Em breve lançarei a segunda parte desta mini-série de artigos. Esperemos que tenham gostado deste e que gostem dos próximos artigos.</p>

    
    <footer>
    <div class="share">
        <a class="twitter" target="_blank" href="https://twitter.com/share?url=https%3a%2f%2fhenriquedias.com%2fblog%2fmvc-linguagem-php%2f&via=hacdias">
      <i class="fa fa-twitter"></i>
    </a>
        <a class="facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fhenriquedias.com%2fblog%2fmvc-linguagem-php%2f">
      <i class="fa fa-facebook"></i>
    </a>
        <label for="disqus">
      <i class="fa fa-comments"></i>
    </label>
        <a class="gplus" target="_blank" href="https://plus.google.com/share?url=https%3a%2f%2fhenriquedias.com%2fblog%2fmvc-linguagem-php%2f">
      <i class="fa fa-google-plus"></i>
    </a>
        <a class="linkedin" target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fhenriquedias.com%2fblog%2fmvc-linguagem-php%2f&title=MVC%20na%20linguagem%20PHP&source=Henrique%Dias">
      <i class="fa fa-linkedin"></i>
    </a>
    </div>

    <div style="clear:both"></div>
    <input type="checkbox" id="disqus">
    <div>
        <div><div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'hacdias';
    var disqus_identifier = 'https:\/\/henriquedias.com\/blog\/mvc-linguagem-php\/';
    var disqus_title = 'MVC na linguagem PHP';
    var disqus_url = 'https:\/\/henriquedias.com\/blog\/mvc-linguagem-php\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
    </div>

    <div class="nextprev">
        <div>
            
            <a href="https://henriquedias.com/blog/mvc-uma-breve-explicacao/">
                <h4>Previous Post</h4>
                <span>Modelo MVC - Uma breve explicação</span>
            </a>
            
        </div>
        <div>
            
            <a href="https://henriquedias.com/blog/mvc-linguagem-php-ii/">
                <h4>Next Post</h4>
                <span>MVC na linguagem PHP - II</span>
            </a>
            
        </div>
    </div>
</footer>
    
    </article>
</main>

<footer>
    <p>&copy; Henrique Dias - made with <a href="http://gohugo.io/">Hugo</a> and <span><i class="fa fa-heart" aria-hidden="true"></i></span></p>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59697241-1', 'auto');
  ga('send', 'pageview');
</script>

<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

