<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to create a Node.js command-line application</title>
<meta name="description" content="Node.js is one of the trends in the programming world. Let&#39;s learn how to create node.js command-line applications.">
<link rel="canonical" href="https://henriquedias.com/blog/how-to-create-a-node-js-command-line-application/">
<link rel="publisher" href="https://plus.google.com/+HenriqueDias"/>

    <meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="How to create a Node.js command-line application" />
<meta property="og:description" content="Node.js is one of the trends in the programming world. Let&#39;s learn how to create node.js command-line applications." />
<meta property="og:url" content="https://henriquedias.com/blog/how-to-create-a-node-js-command-line-application/" />
<meta property="og:site_name" content="Henrique Dias" />
<meta property="article:publisher" content="https://www.facebook.com/hacdias" />
<meta property="article:author" content="https://www.facebook.com/hacdias" />
<meta property="article:tag" content="JavaScript, Node.js, Tutorial" />
<meta property="article:section" content="Tutorials" />
<meta property="article:published_time" content="2015-03-31T18:55:49&#43;00:00" />
<meta property="article:modified_time" content="2015-03-31T18:55:49&#43;00:00" />
<meta property="og:updated_time" content="2015-03-31T18:55:49&#43;00:00" /> 
<meta property="og:image" content="https://henriquedias.com/images/nodejscli.jpg" />

    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:description" content="Node.js is one of the trends in the programming world. Let&#39;s learn how to create node.js command-line applications."/>
<meta name="twitter:title" content="How to create a Node.js command-line application"/>
<meta name="twitter:site" content="@hacdias"/>
<meta name="twitter:domain" content="Henrique Dias"/>
<meta name="twitter:image:src" content="https://henriquedias.com/images/nodejscli.jpg"/>
<meta name="twitter:creator" content="@hacdias"/>

    <meta name="msvalidate.01" content="B471CBBC9EF6900039C6BBF251EF277C" />
<meta name="google-site-verification" content="nVQ4_x6m6ZTRAzclMPNxpB0iMgK-xoIj_d-l85u32nY" />

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
<meta name="msapplication-TileColor" content="#181818">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#181818">
    
<link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,500,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i" rel="stylesheet">

<link rel="stylesheet" href="https://henriquedias.com/css/normalize.css">
<link rel="stylesheet" href="https://henriquedias.com/css/main.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script src="/app.js" async></script>
    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:hacdias@gmail.com",
  "image": "https://henriquedias.com/henrique.jpg",
  "jobTitle": "Author",
  "name": "Henrique Dias",
  "telephone": "351 965 856 140",
  "url": "https://henriquedias.com/",
  "sameAs" : [ "http://www.facebook.com/hacdias",
      "http://twitter.com/hacdias",
      "http://instagram.com/hacdias",
      "http://www.linkedin.com/in/hacdias",
      "http://plus.google.com/+HenriqueDias"]
}
</script>

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": "Henrique Dias",
  "name": "How to create a Node.js command-line application",
  "datePublished": "2015-03-31",
  "headline": "Node.js is one of the trends in the programming world. Let&#39;s learn how to create node.js command-line applications.",
  "image": "https://henriquedias.com/nodejscli"
}
</script>

</head>

<body>
    <nav>
        <a href="https://henriquedias.com/">
            Henrique Dias
            <span>Programmer</span>
        </a>

        <ul>
            
            
            <li><a href="/about/" >About</a></li>
            
            <li><a href="/blog/" >Blog</a></li>
            
            <li><a href="/projects/" >Projects</a></li>
            
            <li><a href="/donate/" >Donate</a></li>
            
            <li><a href="/pgp/" >PGP Key</a></li>
            
        </ul>
        
        <div>
            <a href="mailto:hacdias@gmail.com"><i class="fa fa-envelope" aria-hidden="true"></i></a>
            <a href="https://linkedin.com/in/hacdias"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
            <a href="https://github.com/hacdias"><i class="fa fa-github" aria-hidden="true"></i></a>
            <a href="https://twitter.com/hacdias"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            <a href="https://instagram.com/hacdias"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            <a href="https://facebook.com/hacdias"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a href="https://stackoverflow.com/users/2681565/henrique-dias"><i class="fa fa-stack-overflow" aria-hidden="true"></i></a>
            <a href="https://medium.com/@hacdias"><i class="fa fa-medium" aria-hidden="true"></i></a>
        </div>
    </nav>


<main role="main" class="single">
    <article>
     <figure id="banner" class="full"><img src="https://henriquedias.com/images/nodejscli.jpg"></figure>
<header>
    <time datetime="2015-03-31">March 31, 2015</time>
    <h1>How to create a Node.js command-line application</h1>
    </header>

    

<p>Nowadays, <strong><a href="https://nodejs.org/">node.js</a></strong> is one of the technologies which is always talked about when the subject is related with real-time applications or even <a href="http://en.wikipedia.org/wiki/Command-line_interface">CLI </a>(Command-line interface) apps.</p>

<p>Node.js is a cross-platform platform (which is very redundant) built on Chrome&rsquo;s JavaScript runtime. They say that with Node.js we can create network applications, but we can do a lot more.</p>

<p><a href="/tutorials/como-utilizar-o-bower-um-gestor-de-pacotes-web/">Bower</a>, for example, is a very useful tool built in the top of node.js. We can take advantage of the fact of node.js be cross-platform to create CLI apps which can serve  everyone.</p>

<p>CLI applications can be very useful to task automation, to do repetitive tasks we do everyday, etc. Bower, that I&rsquo;ve already mentioned, is useful because it installs and updates all of the front-end dependencies automatically.</p>

<p>So, the purpose of this article is helping you creating a command-line interface application with node.js.</p>

<h2 id="is-everything-ok">Is everything ok?</h2>

<p>To begin, you should have both node.js and npm installed on your computer. The current versions of node.js already have npm build-in. Npm is the official node package manager.</p>

<p>You can download node.js from this website. After installed, you should check if the node.js and npm are correctly installed on your computer. To do that, you can, for example, run the following commands to see the current installed version of each thing:</p>

<pre><code class="language-bash">&gt; node --version
&gt; npm --version
</code></pre>

<p>If both commands return something like v0.12.0 and 2.5.1, everything is ready to be used.</p>

<h2 id="initialize-the-package">Initialize the package</h2>

<p>Now, let&rsquo;s create our first node.js command-line application with node.js. First of all, go the directory where you want to save the code of the application. Run the following commands:</p>

<pre><code class="language-bash">&gt; mkdir mycliapp
&gt; cd mycliapp
</code></pre>

<p>Of course you can replace mycliapp  with whatever you want. Now, we have to create a <code>package.json</code> file which contains the <a href="http://en.wikipedia.org/wiki/Metadata">meta information</a> of the application. It can be done automatically:</p>

<pre><code class="language-bash">&gt; npm init
</code></pre>

<p>After running the previous command, you should put the information you want for the package. If the information between parentheses is correct, you just have to press enter.</p>

<p>Now, you should have something like this:</p>

<pre><code class="language-json">{
  &quot;name&quot;: &quot;mycliapp&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;description&quot;: &quot;This is my first cli application.&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;Henrique Dias &lt;hacdias@gmail.com&gt; (http://henriquedias.com)&quot;,
  &quot;license&quot;: &quot;MIT&quot;
}
</code></pre>

<p>I think almost all of the content of that file is self-explanatory. If you have some doubt, search in <a href="https://docs.npmjs.com/files/package.json">this page</a>. Right now, we are going to ignore the <code>index.js</code> file.</p>

<p>Now, and because it is a command-line application, we should add two other informations to the <code>package.json</code> file:</p>

<pre><code class="language-json">&quot;preferGlobal&quot;: true,
&quot;bin&quot;: {
  &quot;mycliapp&quot;: &quot;./bin/mycliapp&quot;
}
</code></pre>

<p>The first one (preferGlobal ) that advises the user that this app should be installed globally, it means, available in the all system.</p>

<p>The second one, bin , is used to tell the commands which will be available to use. In this example we have the command <code>mycliapp</code> associated with the file located at <code>bin/mycliapp.js</code>.</p>

<h2 id="output-some-data">Output some data</h2>

<p>Then we are going to create the <code>bin/mycliapp.js</code> file which will have all of the application logic (in this case, it can be divided into various files). Create it, and simply add the following code to print an Hello World:</p>

<pre><code class="language-javascript">#! /usr/bin/env node

console.log('Hello, World!');
</code></pre>

<p>Now, link your app with npm to run it locally. Do it using this command:</p>

<pre><code class="language-bash">&gt; npm link
</code></pre>

<p>After that, you should be able to run the command <code>mycliapp</code> in the console. Run it and you should receive the message &ldquo;Hello, world!&rdquo;.</p>

<h2 id="get-data-from-user">Get data from user</h2>

<p>Now we already know how to output some information (simply using <code>console.log()</code>). So now we are going to learn how to get data from the user.</p>

<p>There are some packages which help us to make question to the user, but we will use the built-in module readline which is very simple to use.</p>

<p>Firstly, we need to include that module. To do that, we may do something like this:</p>

<pre><code class="language-javascript">var rl = require('readline');
</code></pre>

<p>Now, we have to create the interface to make the question, it means that we are going to set the input and output of data.</p>

<pre><code class="language-javascript">var read = rl.createInterface({
  input: process.stdin,
  output: process.stdout
});
</code></pre>

<p><code>process</code> (read more <a href="https://nodejs.org/api/process.html#process_process">here</a>) is a global object variable which is an instance of <a href="https://nodejs.org/api/process.html#process_process"><code>EventEmitter</code></a>.</p>

<p>So now that we already have the input and output setted up, we can make a question to the user and then receive the answer. We should use this syntax:</p>

<pre><code class="language-javascript">read.question(query, callback);
</code></pre>

<p>To ask the user his name and then print it, you may do something like this:</p>

<pre><code class="language-javascript">read.question(&quot;What is your name? &quot;, function (answer) {
  read.close(); // close the instance of reading interface
  console.log(answer);
});
</code></pre>

<p>It is very simples as you can see. Never forget to close the instance of the reading interface. After that you can do whatever you want with the answer of the user.</p>

<p>You can get more information about this module <a href="https://nodejs.org/api/readline.html">here</a>.</p>

<h2 id="how-to-read-arguments">How to read arguments</h2>

<p>There are a lot of ways to read arguments. There&rsquo;s some third-party packages which helps the user doing it, like <a href="https://www.npmjs.com/package/commander"><code>commander</code></a>, but we are going to do it manually to see how does it work.</p>

<p>Remember the process  object? It also contains the arguments. Let&rsquo;s experiment. Write the following code of line in <code>bin/mycliapp</code>. You might remove all of the previous code or comment it.</p>

<pre><code class="language-javascript">console.log(process.argv);
</code></pre>

<p>Now, run the application, putting some arguments, options, commands after the app name.</p>

<pre><code class="language-bash">&gt; mycliapp option1 henrique
[ 'node',
 'C:\\Users\\Henrique\\AppData\\Roaming\\npm\\node_modules\\mycliapp\\bin\\mycliapp',
  'option1',
  'henrique' ]
</code></pre>

<p>So, the first element of our arguments array is the environment, in this case, node. The second one is the path of the file which is running. The following elements are the other arguments.</p>

<p>If you just want the arguments put by the user you may do something like this:</p>

<pre><code class="language-javascript">var args = process.argv;
args.splice(0,2); // remove 2 elements after the position 0
</code></pre>

<p>If you print the content of args  variable you will see that it only contains the arguments that the user wrote.</p>

<p>Now, if you want, for example, to print &ldquo;Hello&rdquo; when the user uses the argument <code>sayhello</code> , you can do this:</p>

<pre><code class="language-javascript">if (args[0] === 'sayhello') {
  console.log(&quot;Hello&quot;);
}
</code></pre>

<p>Simple, but effective. Now, go on and create your CLI application with Node.js :)</p>

<p>I hope you have enjoyed this tutorial of how to create node.js command-line applications. If you have some doubts, you may use the comments.</p>

    
    <footer>
    <div class="share">
        <a class="twitter" target="_blank" href="https://twitter.com/share?url=https%3a%2f%2fhenriquedias.com%2fblog%2fhow-to-create-a-node-js-command-line-application%2f&via=hacdias">
      <i class="fa fa-twitter"></i>
    </a>
        <a class="facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fhenriquedias.com%2fblog%2fhow-to-create-a-node-js-command-line-application%2f">
      <i class="fa fa-facebook"></i>
    </a>
        <label for="disqus">
      <i class="fa fa-comments"></i>
    </label>
        <a class="gplus" target="_blank" href="https://plus.google.com/share?url=https%3a%2f%2fhenriquedias.com%2fblog%2fhow-to-create-a-node-js-command-line-application%2f">
      <i class="fa fa-google-plus"></i>
    </a>
        <a class="linkedin" target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fhenriquedias.com%2fblog%2fhow-to-create-a-node-js-command-line-application%2f&title=How%20to%20create%20a%20Node.js%20command-line%20application&source=Henrique%Dias">
      <i class="fa fa-linkedin"></i>
    </a>
    </div>

    <div style="clear:both"></div>
    <input type="checkbox" id="disqus">
    <div>
        <div><div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'hacdias';
    var disqus_identifier = 'https:\/\/henriquedias.com\/blog\/how-to-create-a-node-js-command-line-application\/';
    var disqus_title = 'How to create a Node.js command-line application';
    var disqus_url = 'https:\/\/henriquedias.com\/blog\/how-to-create-a-node-js-command-line-application\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
    </div>

    <div class="nextprev">
        <div>
            
            <a href="https://henriquedias.com/blog/pi-day-2015/">
                <h4>Previous Project</h4>
                <span>Pi Day 2015</span>
            </a>
            
        </div>
        <div>
            
            <a href="https://henriquedias.com/blog/observacao-de-microrganismos-e-celulas-eucarioticas/">
                <h4>Next Project</h4>
                <span>Observação de microrganismos e células eucarióticas</span>
            </a>
            
        </div>
    </div>
</footer>
    
    </article>
</main>

<footer>
    <p>&copy; Henrique Dias - made with <a href="http://gohugo.io/">Hugo</a> and <span><i class="fa fa-heart" aria-hidden="true"></i></span></p>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59697241-1', 'auto');
  ga('send', 'pageview');
</script>

<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

